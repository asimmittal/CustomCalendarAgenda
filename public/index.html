<html>
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
        <link rel="stylesheet" href="../lib/fullcalendar.min.css">
        <script src='../lib/moment.min.js'></script>
        <script src='../lib/jquery.min.js'></script>
        <script src='../lib/fullcalendar.min.js'></script>
        <link rel="stylesheet" href="../css/customCalendar.css">        
    </head>
    <body>
        <div id="calendar">
            
        </div>
    </body>
    <script src="agenda.js"></script>

    <!-- 
        Main 
    -->
    <script>

        /**
         * resp = {
                    "events": [
                        {
                            "title": "Sample Title\n(Conference room)",
                            "start": "2000-01-01T18:25:00.000Z",
                            "end": "2000-01-01T21:40:00.000Z"
                        },
                        {
                            "title": "Sample Title\n(Conference room)",
                            "start": "2000-01-02T18:25:00.000Z",
                            "end": "2000-01-02T21:40:00.000Z"
                        }                
                    ]
                }
        */

        console.log("--- main ---")
        $(document).ready(function(){

            //create the ere calendar object
            var ereCal = new EreCalendar("calendar");

            //turn on its loader
            ereCal.showLoader();

            //fetch the events, add them, hide the loader
            $.get("/events",function(resp){
                ereCal.addEvents(resp.events);
                ereCal.hideLoader();
            });
        });
    </script>
</html>